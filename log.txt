步骤1: 加载和划分数据...
train shape: (2426786, 31), val shape: (613693, 31)

步骤2: 执行数据分布分析...
可用的重要特征: ['n_close', 'amount_delta', 'n_midprice', 'n_bid1', 'n_ask1', 'n_bsize1', 'n_asize1', 'n_bid5', 'n_ask5']
============================================================
数据基本信息
============================================================

训练集基本信息:
            n_close  amount_delta    n_midprice        n_bid1        n_ask1      n_bsize1      n_asize1        n_bid5        n_ask5
count  2.426786e+06  2.426786e+06  2.426786e+06  2.426786e+06  2.426786e+06  2.426786e+06  2.426786e+06  2.426786e+06  2.426786e+06
mean   3.639054e-03  4.789571e+05  3.623192e-03  3.123271e-03  3.320680e-03  1.116080e-04  5.126315e-05 -1.509059e-03  7.793916e-03
std    2.442318e-02  1.717437e+06  2.439758e-02  2.416241e-02  2.256474e-02  8.770205e-04  1.952978e-04  2.480244e-02  2.289663e-02
min   -1.001495e-01  0.000000e+00 -1.001495e-01 -1.001495e-01 -1.001495e-01  0.000000e+00  0.000000e+00 -1.001495e-01 -9.865471e-02
25%   -9.900990e-03  6.547250e+03 -9.785203e-03 -1.044841e-02 -9.259259e-03  1.363093e-06  1.296601e-06 -1.559282e-02 -5.498822e-03
50%    2.084781e-03  8.371000e+04  1.901141e-03  1.218027e-03  2.352941e-03  6.536321e-06  6.302269e-06 -2.624672e-03  6.552007e-03
75%    1.463964e-02  3.990558e+05  1.456935e-02  1.401869e-02  1.456816e-02  3.229188e-05  2.998514e-05  1.004464e-02  1.956400e-02
max    1.005464e-01  8.991515e+08  1.005464e-01  1.005464e-01  1.005464e-01  2.775392e-02  5.535796e-03  9.922514e-02  1.002695e-01

验证集基本信息:
             n_close  amount_delta     n_midprice         n_bid1         n_ask1      n_bsize1       n_asize1         n_bid5         n_ask5
count  613693.000000  6.136930e+05  613693.000000  613693.000000  613693.000000  6.136930e+05  613693.000000  613693.000000  613693.000000
mean        0.003467  4.960987e+05       0.003468       0.002890       0.003167  1.443398e-04       0.000042      -0.001424       0.007461
std         0.024484  5.616337e+06       0.024462       0.024503       0.022710  1.296408e-03       0.000099       0.025129       0.023235
min        -0.089286  0.000000e+00      -0.088955      -0.089286      -0.088624  1.094077e-10       0.000000      -0.093915      -0.085979
25%        -0.009804  8.806000e+03      -0.009398      -0.010025      -0.009091  1.324041e-06       0.000001      -0.015487      -0.005666
50%         0.002792  9.683200e+04       0.002527       0.002227       0.002948  6.017470e-06       0.000006      -0.002038       0.006535
75%         0.015070  4.118690e+05       0.015186       0.014352       0.015094  2.926657e-05       0.000028       0.011151       0.020247
max         0.100277  3.440177e+09       0.100277       0.100277       0.100277  2.246036e-02       0.002902       0.099132       0.100277

训练集缺失值统计:
n_close         0
amount_delta    0
n_midprice      0
n_bid1          0
n_ask1          0
n_bsize1        0
n_asize1        0
n_bid5          0
n_ask5          0
dtype: int64

验证集缺失值统计:
n_close         0
amount_delta    0
n_midprice      0
n_bid1          0
n_ask1          0
n_bsize1        0
n_asize1        0
n_bid5          0
n_ask5          0
dtype: int64

============================================================
数据分布相似性分析
============================================================

特征分布相似性排序 (KS统计量越大，分布差异越大):
             ks_statistic ks_pvalue similar_distribution
amount_delta     0.023111       0.0                False
n_bid1           0.020785       0.0                False
n_midprice        0.02062       0.0                False
n_bid5           0.019798       0.0                False
n_ask1           0.019055       0.0                False
n_close          0.018332       0.0                False
n_asize1         0.015839       0.0                False
n_bsize1         0.014845       0.0                False
n_ask5           0.014786       0.0                False

步骤3: 绘制特征分布图...
特征分布图已保存: feature_distributions.png

步骤4: 绘制相关性对比图...
相关性对比图已保存: correlation_comparison.png

相关性矩阵平均绝对差异: 0.03110360189230796
相关性矩阵最大差异: 0.18684363800879158

步骤5: 评估数据划分质量...

============================================================
数据划分质量评估
============================================================
总特征数量: 9
分布相似的特征数量: False
分布相似性比例: 0.00%
❌ 数据划分质量: 较差 - 训练集和验证集分布差异较大

分布差异最大的5个特征:
